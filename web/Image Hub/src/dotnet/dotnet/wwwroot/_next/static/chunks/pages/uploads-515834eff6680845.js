(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{8150:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/uploads",function(){return n(7143)}])},7143:function(e,t,n){"use strict";n.r(t);var s=n(5893),o=n(2004),a=n(6317),i=n(404),l=n(4082),r=n(7294),c=n(1163);let{Dragger:u}=o.Z,p={name:"file",multiple:!0,accept:".jpg",action:"/api/uploads",data:{desc:"some description"},beforeUpload(e){sessionStorage.getItem("token");let t="image/jpeg"===e.type;return t||a.ZP.error("".concat(e.name," is not a png file")),t||o.Z.LIST_IGNORE},onChange(e){let{status:t}=e.file;"done"===t?a.ZP.success("".concat(e.file.name," file uploaded successfully.")):"error"===t&&a.ZP.error("".concat(e.file.name," file upload failed."))}},d=()=>{let e=(0,c.useRouter)(),[t,n]=(0,r.useState)({}),[o,d]=a.ZP.useMessage();return(0,r.useEffect)(()=>{null==sessionStorage.getItem("token")&&(o.open({type:"error",content:"请先登录"}),setTimeout(()=>{e.push("/login")},1500)),n({Authorization:"Bearer ".concat(sessionStorage.getItem("token")||"")})},[]),(0,s.jsxs)(s.Fragment,{children:[d,(0,s.jsx)(i.Z,{justify:"center",align:"middle",style:{minHeight:"100vh"},children:(0,s.jsxs)(u,{...p,style:{padding:"50px"},headers:t,children:[(0,s.jsx)("p",{className:"ant-upload-drag-icon",children:(0,s.jsx)(l.Z,{style:{fontSize:"60px"}})}),(0,s.jsx)("p",{className:"ant-upload-text",style:{marginTop:"30px"},children:"点击此处或拖拽图片至此以上传"})]})})]})};t.default=d}},function(e){e.O(0,[317,255,774,888,179],function(){return e(e.s=8150)}),_N_E=e.O()}]);